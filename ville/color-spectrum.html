<!DOCTYPE html>
<html>
  <head>
    <title>Color Spectrum</title>
    <style>
      body,
      html,
      canvas {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      var canvas = document.getElementById("canvas");
      var ctx = canvas.getContext("2d");

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      var time = 0;
      function draw() {
        var imageData = ctx.createImageData(canvas.width, canvas.height);
        var data = imageData.data;

        for (var x = 0; x < canvas.width; x++) {
          for (var y = 0; y < canvas.height; y++) {
            var index = (x + y * canvas.width) * 4;
            var red = Math.sin((x + time) * 0.1) * 127 + 128;
            var green = Math.sin((y + time) * 0.1) * 127 + 128;
            var blue = 127 + 128;

            data[index] = red;
            data[index + 1] = green;
            data[index + 2] = blue;
            data[index + 3] = 255;
          }
        }

        ctx.putImageData(imageData, 0, 0);

        time++;
        requestAnimationFrame(draw);
      }

      draw();
    </script>
  </body>
</html>
