<!DOCTYPE html>
<html>
  <head>
    <title>Starfield Simulation</title>
    <style>
      body,
      html,
      canvas {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <script>
      let canvas = document.getElementById("canvas");
      let context = canvas.getContext("2d");

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let maxRadius = Math.hypot(canvas.width, canvas.height);
      let circles = 50;
      let speed = 2;

      let Circle = function (radius, speed) {
        this.radius = radius;
        this.speed = speed;
        this.color = `hsl(${(radius / maxRadius) * 270}, 70%, 50%)`;
      };

      let circleArr = [];

      for (let i = 0; i < circles; i++) {
        circleArr.push(
          new Circle((i / circles) * maxRadius, speed + speed * (i / circles))
        );
      }

      function animate() {
        context.clearRect(0, 0, canvas.width, canvas.height);

        circleArr.forEach((circle, i) => {
          context.beginPath();
          context.arc(
            canvas.width / 2,
            canvas.height / 2,
            circle.radius,
            0,
            Math.PI * 2,
            false
          );
          context.strokeStyle = circle.color;
          context.lineWidth = 2;
          context.stroke();

          circle.radius += circle.speed;

          if (circle.radius > maxRadius) {
            circleArr[i] = new Circle(0, speed + speed * (i / circles));
          }
        });

        requestAnimationFrame(animate);
      }

      animate();
    </script>
  </body>
</html>
