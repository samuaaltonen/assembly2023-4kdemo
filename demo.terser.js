//! ZzFXM (v2.0.3) | (C) Keith Clark | MIT | https://github.com/keithclark/ZzFXM
zzfxM=(t,e,i,a=125)=>{let s,h,n,r,o,l,c,d,f,x,P,z,u,g,M,p=0,w=[],m=[],I=[],y=0,v=0,R=1,T={},S=zzfxR/a*60>>2;for(;R;y++)w=[R=d=P=u=0],i.map(((a,P)=>{for(c=e[a][y]||[0,0,0],R|=!!e[a][y],M=u+(e[a][0].length-2-!d)*S,g=P==i.length-1,h=2,r=u;h<c.length+g;d=++h){for(o=c[h],f=h==c.length+g-1&&g||x!=(c[0]||0)|o|0,n=0;n<S&&d;n++>S-99&&f?z+=(z<1)/99:0)l=(1-z)*w[p++]/2||0,m[r]=(m[r]||0)-l*v+l,I[r]=(I[r++]||0)+l*v+l;o&&(z=o%1,v=c[1]||0,(o|=0)&&(w=T[[x=c[p=0]||0,o]]=T[[x,o]]||(s=[...t[x]],s[2]*=2**((o-12)/12),o>0?zzfxG(...s):[])))}u=M}));return[m,I]},zzfx=(...t)=>zzfxP(zzfxG(...t)),zzfxP=(...t)=>{let e=zzfxX.createBufferSource(),i=zzfxX.createBuffer(t.length,t[0].length,zzfxR);return t.map(((t,e)=>i.getChannelData(e).set(t))),e.buffer=i,e.connect(zzfxX.destination),e.start(),e},zzfxG=(t=1,e=.05,i=220,a=0,s=0,h=.1,n=0,r=1,o=0,l=0,c=0,d=0,f=0,x=0,P=0,z=0,u=0,g=1,M=0,p=0)=>{let w,m,I=2*Math.PI,y=o*=500*I/zzfxR**2,v=(0<P?1:-1)*I/4,R=i*=(1+2*e*Math.random()-e)*I/zzfxR,T=[],S=0,C=0,b=0,F=1,W=0,A=0,D=0;for(a=99+zzfxR*a,M*=zzfxR,s*=zzfxR,h*=zzfxR,u*=zzfxR,l*=500*I/zzfxR**3,P*=I/zzfxR,c*=I/zzfxR,d*=zzfxR,f=zzfxR*f|0,m=a+M+s+h+u|0;b<m;T[b++]=D)++A%(100*z|0)||(D=n?1<n?2<n?3<n?Math.sin((S%I)**3):Math.max(Math.min(Math.tan(S),1),-1):1-(2*S/I%2+2)%2:1-4*Math.abs(Math.round(S/I)-S/I):Math.sin(S),D=(f?1-p+p*Math.sin(2*Math.PI*b/f):1)*(0<D?1:-1)*Math.abs(D)**r*t*zzfxV*(b<a?b/a:b<a+M?1-(b-a)/M*(1-g):b<a+M+s?g:b<m-u?(m-b-u)/h*g:0),D=u?D/2+(u>b?0:(b<m-u?1:(m-b)/u)*T[b-u|0]/2):D),w=(i+=o+=l)*Math.sin(C*P-v),S+=w-w*x*(1-1e9*(Math.sin(b)+1)%2),C+=w-w*x*(1-1e9*(Math.sin(b)**2+1)%2),F&&++F>d&&(i+=c,R+=c,F=0),!f||++W%f||(i=R,o=y,F=F||1);return T},zzfxV=.3,zzfxR=44100,zzfxX=new(window.AudioContext||webkitAudioContext);class Vector{constructor(t,e){this.x=t,this.y=e}}const songData=[[[.4,0,4e3,,,.03,2,1.25,,,,,.02,6.8],[,0,655,,,.11,2,1.65,,,,,,3.8,-.1,.1],[2.9,0,52,,,.13,,2.9,-1.1,4,156,15,,4.2],[3.3,0,58,,,.06,,5.9,,,,,,1,,.2,.004],[3.3,0,58,,,.15,,5.9,,,,,,1,,.2,.003],[2.1,0,100,2,1.42,3,,5.9,,,,,,1,20,-.2,.9],[3.3,0,58,,,,,5.9,,,,,,1,,.2,.007],[3.3,0,58,,,.18,,5.9,,,,,,1,,.2,.007],[3.3,0,58,,,.26,,6.8,,,,,,1,,.2,.006],[3.3,0,58,,,.08,,9.7,,,,,,1,,.2,.009],[3.3,0,58,,,.24,,18,,,,,,1,,.2,.009],[3.3,0,58,,,.14,,8,,,,,,1,,.3,.13],[3.3,0,58,,,,,6.8,,,,,,1,,.2,.005],[3.3,0,58,,,.08,,6,,,,,,1,,.2,.005],[3.3,0,58,,,.11,,5,,,,,,1,,.3,.006],[3.3,0,58,,,.14,,12,,,,,,1,,.4,.02],[3.3,0,58,,,.08,,12,,,,,,1,,.2,.006],[3.3,0,58,,,.14,,19,,,,,,1,,.3,.004],[3.3,0,58,,,.11,,15.6,,,,,,1,,-.3,.005],[3.3,0,58,,,,,30,,,,,,1,,-.3,.01],[3.3,0,58,,,.12,,6,,,,,,1,,-.4,.006],[.5,0,2001,,,,3,5.3,,,-400,,,2],[3.3,0,58,,,.16,,6,,,,,,1,,-.4,.003],[.7,0,600,,,2.97,4,5,,,60,,.3,4,30,.01,.3,,,1],[3.3,0,58,,,.16,,13,,,,,,1,,-.4,.005],[3.3,0,58,,,.15,,12,,,,,,1,,-.4,.005],[3.3,0,58,,,.13,,6,,,,,,1,,.6,.13]],[[[,,26,32,34,32,1,18,,,,,24,27,,20,25,,],[5,,1,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,1],[1,,,,,,32,,,,,,,,32,,,,],[5,,1,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,1],[1,,,,,,32,,,,,,,,32,,,,]],[[,,1,32,34,32,1,18,,24,22,1,24,27,,,,,],[1,,,,,,,,32,,,,,,32,,,,],[2,,18,,,18,,,,,,,18,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[3,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[4,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,,24,22,1,24,27,,20,25,,],[1,,,,,,,,32,,,,,,32,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,18,,,,,,],[3,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[3,,23,26,,14,,,11,,23,26,,14,,11,27,,],[5,,1,,,,,,,,,,,,,,,,]],[[4,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[6,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[7,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[8,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[9,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[10,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[11,,23,26,,14,,,11,,23,26,,14,,11,27,,],[1,,32.99,32.9,32.84,32.79,32.74,32.69,32.64,32.58,32.53,32.49,32.44,32.4,32.35,32.3,32.25,32.2]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[12,,20,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[13,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[14,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[12,,23,26,,14,,,11,,23,26,,14,,11,27,,],[23,,18,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[9,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[15,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[14,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[16,,23,26,2,14,,,11,,23,26,,14,,11,27,15]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[14,,23,26,2,14,,,11,,23,26,2,14,,11,27,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[15,,23,26,,14,,2,11,,23,26,,14,,11,27,15]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,,,,,],[1,,,,,,32,,,32.6,,32.4,,,32,,32,32],[2,,18,,,,,,18,,,,18,,,,,,],[17,,23,26,2,14,,2,11,2,23,26,2,14,3,11,27,15]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,18,,,,18,,18,18,,,,18,,],[19,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[18,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,],[23,,18,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[20,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,18,,,,18,,18,18,,,,18,,],[22,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,,],[4,,,,,,,,,,,,,,,,,,],[23,,1,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,,],[4,,,,,,,,,,,,,,,,,,],[23,,18,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,20,25,1],[1,,,,,,32,,,,,,,,32,,,,],[5,,1,,,,,,,,,,,,,,,,],[23,,1,,,,,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,,,,,24,27,,,,,],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,,,,18,18,,,,,,,18,,],[3,,23,26,,14,,,11,,23,26,,14,,11,27,,],[23,,,,,,1,,,,,,,,,,,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[17,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,,,18,,,,18,,18,18,,,,18,,],[24,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[,,17,32,34,32,1,18,32,1,27,34,24,27,18,24,18,6],[1,,,,,,32,,,,,,,,32,,,,],[2,,18,18,,,,,18,18,,,18,,,,18,,],[25,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,]],[[19,,23,26,2,14,,2,11,,23,26,2,14,,11,27,15],[21,,,,24,,,,24,,,,24,,,,24,,],[1,,32.99,32.9,32.84,32.79,32.74,32.69,32.64,32.58,32.53,32.49,32.44,32.4,32.35,32.3,32.25,32.2]],[[14,,23,26,,14,,,11,,23,26,,14,,11,27,,],[5,,1,,,,,,,,,,,,,,,,],[23,,1,,,,,,,,,,,,,,,,]],[[14,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[20,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[25,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[26,,23,26,,14,,,11,,23,26,,14,,11,27,,]],[[11,,23,26,,14,,,11,,23,26,,14,,11,27,,]]],[0,1,34,1,0,1,35,1,2,3,4,3,36,3,4,1,6,9,37,7,6,9,6,7,10,9,6,7,6,9,6,11,18,12,13,14,15,19,20,17,21,22,24,23,25,26,27,28,30,29,31,32,38,39,40,41,42,43,44,45,47,47,46,46],,{title:"arsembley",instruments:["Hihat","Claps","Bass Drum 2","synth","I4","I5","I6","I7","I8","I9","I10","I11","I12","I13","I14","I15","I16","I17","I18","I19","I20","Hihat Open","I22","Dig Dug","I24","I25","I26"],patterns:["P0","P1","P2","P3","P4","P5","P6","P7","P8","P9","P10","P11","P12","P13","P14","P15","P16","P17","P18","P19","P20","P21","P22","P23","P24","P25","P26","P27","P28","P29","P30","P31","P32","P33","P34","P35","P36","P37","P38","P39","P40","P41","P42","P43","P44","P45","P46","P47"]}],buffer=zzfxM(...songData);let myAudio=zzfxP(...buffer);const cellSize=20,w=20*Math.floor(window.innerWidth/20),h=20*Math.floor(window.innerHeight/20),zoom=.15,curve=.8,grid=new Vector(Math.floor(w/20),Math.floor(h/20)),rotateCos=Math.cos(Math.PI/9e3),rotateSin=Math.sin(Math.PI/9e3);let ctx,field=[],rotate=0;class Particle{constructor(){this.reset()}reset(){for(let t=0;t<10&&(this.pos=new Vector(Math.floor(Math.random()*w),Math.floor(Math.random()*h)),!field[Math.floor(this.pos.y/20)*grid.x+Math.floor(this.pos.x/20)]);t++);this.velocityMultiplier=Math.floor(1+4*Math.random()),this.curve=Math.random()*Math.PI/10,this.trail=[{...this.pos}],this.trailLen=Math.floor(10+20*Math.random()),this.angle=rotate,this.lightness=12}draw(t){const e=currentText===texts.length?0:this.angle/(2*Math.PI)*360;t.strokeStyle=`hsl(${e}, 100%, ${this.lightness}%)`;for(let e=1;e<this.trail.length;e++){const i=this.trail[e-1],a=this.trail[e];t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(a.x,a.y),t.stroke()}}update(){if(this.trail.length===this.trailLen)return this.trail.shift(),this.trailLen--,void(0===this.trailLen&&this.reset());const t=field[Math.floor(this.pos.y/20)*grid.x+Math.floor(this.pos.x/20)];for(this.lightness=t?60:12,this.angle>t?this.angle-=this.curve:this.angle<t?this.angle+=this.curve:this.angle=t,this.pos.x+=Math.cos(this.angle+rotate)*this.velocityMultiplier,this.pos.y+=Math.sin(this.angle+rotate)*this.velocityMultiplier,this.trail.push({...this.pos});this.trail.length>this.trailLen;)this.trail.shift()}}let particles=[];const canvas=document.createElement("canvas");ctx=canvas.getContext("2d",{willReadFrequently:!0}),canvas.width=w,canvas.height=h,document.body.appendChild(canvas),ctx.strokeStyle="white",ctx.lineWidth=2/1920*w;const gradient=ctx.createRadialGradient(w/2,h/2,h/20,w/2,h/2,w);gradient.addColorStop(0,"red"),gradient.addColorStop(.25,"orange"),gradient.addColorStop(.5,"yellow"),gradient.addColorStop(.75,"green"),gradient.addColorStop(1,"blue"),ctx.fillStyle=gradient,ctx.font=`bold ${h}px Arial`,ctx.textBaseline="middle",ctx.textAlign="center";const texts=["2","0","2","3","2023","ASSEMBLY",String.fromCodePoint(10084)];let currentText=0;function updateText(){currentText!==texts.length&&(ctx.fillText(texts[currentText],w/2,h/2+h/10,w),currentText++)}function updateFlowField(){let t=[];const e=ctx.getImageData(0,0,w,h).data;for(let i=0;i<h;i+=20)for(let a=0;a<w;a+=20){const s=4*(i*w+a),h=(e[s]+e[s+1]+e[s+2])/3;t.push(h/255*Math.PI*2)}field=t}updateText(),updateFlowField(),setInterval((()=>{updateText(),updateFlowField()}),6e3);class RaycastTunnel{constructor(t){this.canvas=t,this.context=t.getContext("2d"),this.radius=100,this.segments=100,this.lineWidth=10,this.time=0}drawSegment(t,e,i){const a=this.context,s=this.radius*Math.cos(t),h=this.radius*Math.sin(t),n=this.radius*Math.cos(e),r=this.radius*Math.sin(e);a.beginPath(),a.moveTo(s,h),a.lineTo(n,r),a.lineTo(n-this.lineWidth,r-this.lineWidth),a.lineTo(s-this.lineWidth,h-this.lineWidth),a.closePath(),a.fillStyle=`rgb(${i}, ${i}, ${i})`,a.fill()}render(){const t=this.context;t.clearRect(0,0,this.canvas.width,this.canvas.height),t.translate(this.canvas.width/2,this.canvas.height/2);const e=2*Math.PI/this.segments;for(let t=0;t<this.segments;t++){const i=t*e+this.time,a=(t+1)*e+this.time,s=Math.floor((Math.sin(i+this.time/2)+1)/2*255);this.drawSegment(i,a,s)}this.radius=100+50*Math.sin(this.time),this.lineWidth=10+5*Math.sin(this.time),this.time+=.01,t.setTransform(1,0,0,1,0,0)}}const tunnel=new RaycastTunnel(canvas);for(let t=0;t<1e3;t++)particles.push(new Particle);const play=()=>{ctx.clearRect(0,0,w,h),tunnel.render(),particles.forEach((t=>{t.update(field),t.draw(ctx)})),rotate+=Math.PI/360,requestAnimationFrame(play)};play();